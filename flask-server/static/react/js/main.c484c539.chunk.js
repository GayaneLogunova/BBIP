(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{106:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),r=a(22),i=a.n(r),o=(a(106),a(11)),d=a(12),h=a(17),l=a(14),j=a(13),u=(a(71),a(66),a(72),a(73),a(10)),b=a(54),p=a.n(b),O=a(167),x=a(164),m=a(168),g=a(35),f=a.n(g),v=a(61),y=(a(33),a(166)),k=a(171),C=a(157),w=a(62),I=a(23),B=a.n(I),T=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=new Set,a={};return this.props.data.map((function(e){void 0==a[e[0]+e[2]]?a[e[0]+e[2]]="status: "+e[4]+"   time: "+e[5]+"#":a[e[0]+e[2]]+="status: "+e[4]+"   time: "+e[5]+"#"})),Object(n.jsx)("div",{className:"accordion-body",children:this.props.data.map((function(s){if(s[2]==e.props.name&&!t.has(s[0]))return t.add(s[0]),"done"==s[4]?Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"done-text",children:s[3]})}),Object(n.jsx)(C.a,{style:{display:"block"},children:a[s[0]+s[2]].split("#").map((function(e){return Object(n.jsx)(w.a,{children:e})}))})]})}):"pending"==s[3]?Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"pending-text",children:s[3]})}),Object(n.jsx)(C.a,{style:{display:"block"},children:a[s[0]+s[2]].split("#").map((function(e){return Object(n.jsx)(w.a,{children:e})}))})]})}):Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"failed-text",children:s[3]})}),Object(n.jsx)(C.a,{style:{display:"block"},children:a[s[0]+s[2]].split("#").map((function(e){return Object(n.jsx)(w.a,{children:e})}))})]})})}))})}}]),a}(c.a.Component);var S=function(e){var t=new Set;return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(a){if(a[1]==e.position&&!t.has(a[2]))return t.add(a[2]),Object(n.jsx)("div",{children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:a[2]})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(T,{data:e.data,name:a[2]})})]})})}))})};var _=function(e){var t=new Set;return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(a){if(!t.has(a[1]))return t.add(a[1]),Object(n.jsxs)(y.a,{style:{margin:"2%"},children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:a[1]})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(S,{data:e.data,position:a[1]})})]})}))})},L=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=new Set,t=this;return Object(n.jsx)("div",{children:this.props.data.map((function(a){if(1==a[2].includes(t.props.search_text)&&!e.has(a[2]))return e.add(a[2]),Object(n.jsxs)(y.a,{style:{marginBottom:"2%"},children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:a[2]})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(w.a,{children:Object(n.jsx)(T,{data:t.props.data,name:a[2]})})})]})}))})}}]),a}(c.a.Component),N=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=new Set,t=this,a={};return this.props.data.map((function(e){var t="status: "+e[4]+"   time: "+e[5]+"#";void 0==a[e[0]]?a[e[0]]=t:a[e[0]]+="status: "+e[4]+"   time: "+e[5]+"#"})),Object(n.jsx)("div",{children:this.props.data.map((function(s){if(1==s[3].includes(t.props.search_text)&&!e.has(s[0]))return e.add(s[0]),Object(n.jsxs)(y.a,{style:{marginBottom:"2%"},children:[Object(n.jsx)(k.a,{expandIcon:Object(n.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:s[3]})}),Object(n.jsx)(C.a,{style:{display:"block"},children:a[s[0]].split("#").map((function(e){return Object(n.jsx)(w.a,{children:e})}))})]})}))})}}]),a}(c.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={checkBoxName:!0,checkBoxTask:!1,search_text:""},n.handleChangeSearch=n.handleChangeSearch.bind(Object(h.a)(n)),n.onChangeByName=n.onChangeByName.bind(Object(h.a)(n)),n.onChangeByTask=n.onChangeByTask.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"onChangeByName",value:function(e){e.preventDefault(),this.setState({checkBoxName:e.target.value})}},{key:"onChangeByTask",value:function(e){e.preventDefault(),this.setState({checkBoxTask:e.target.value})}},{key:"handleChangeSearch",value:function(e){this.state.checkBoxName||this.state.checkBoxTask?this.setState({search_text:e.target.value}):alert("At least one of checkboxes should be checked")}},{key:"render",value:function(){var e=[Object(n.jsx)(_,{data:this.props.data})];return""==this.state.search_text?e=[Object(n.jsx)(_,{data:this.props.data})]:this.state.checkBoxName&&!this.state.checkBoxTask?e=[Object(n.jsx)(L,{data:this.props.data,search_text:this.state.search_text})]:this.state.checkBoxTask&&!this.state.checkBoxName?e=[Object(n.jsx)(N,{data:this.props.data,search_text:this.state.search_text})]:this.state.checkBoxName&&this.state.checkBoxTask&&(e=[Object(n.jsx)(L,{data:this.props.data,search_text:this.state.search_text}),Object(n.jsx)(N,{data:this.props.data,search_text:this.state.search_text})]),Object(n.jsx)("div",{style:{position:"relative"},children:Object(n.jsxs)("div",{style:{padding:"3%"},children:[Object(n.jsx)(x.a.Row,{style:{marginBottom:"2%"},children:Object(n.jsx)(x.a.Control,{value:this.state.request,onChange:this.handleChangeSearch,type:"search_text",placeholder:"Enter..."})}),Object(n.jsx)(x.a.Group,{children:Object(n.jsx)(x.a.Row,{children:Object(n.jsx)(x.a.Check,{type:"checkbox",defaultChecked:!0,onChange:this.onChangeByName,label:"Search by name"})})}),Object(n.jsx)(x.a.Group,{children:Object(n.jsx)(x.a.Row,{children:Object(n.jsx)(x.a.Check,{type:"checkbox",onChange:this.onChangeByTask,label:"Search by task"})})}),Object(n.jsx)("h4",{children:"Tasks"}),e.map((function(e){return e}))]})})}}]),a}(c.a.Component),P=a(85),F=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e,t=0,a=0,s=0;this.props.data.map((function(e){"done"==e[4]?t++:"pending"==e[4]?a++:s++})),e=t+a+s;var c={animationEnabled:!0,data:[{type:"pie",startAngle:75,toolTipContent:"<b>{label}</b>: {y}%",showInLegend:"true",legendText:"{label}",indexLabelFontSize:16,indexLabel:"{label} - {y}%",dataPoints:[{y:Math.round(t/e*100)/100,label:"Done",color:"#16AC23"},{y:Math.round(a/e*100)/100,label:"Pending",color:"#E7CF24"},{y:Math.round(s/e*100)/100,label:"Failed",color:"#DC3A19"}]}]};return Object(n.jsx)("div",{style:{margin:"2%",padding:"2%"},children:Object(n.jsx)(P.a,{options:c})})}}]),a}(c.a.Component),D=a(158),A=a(159),E=(a(83),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).compare=n.compare.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"compare",value:function(e,t){var a=e[5],n=t[5];return e[5].length<5&&(a="0"+e),t[5].length<5&&(n="0"+t),a>n?-1:1}},{key:"render",value:function(){var e=[];return this.props.data.map((function(t){"pending"!=t[4]&&e.push(t)})),e.sort(this.compare),Object(n.jsxs)(O.a,{style:{margin:"2%",padding:"2%",textAlign:"inherit"},children:[Object(n.jsx)(O.a.Title,{children:" Status changed "}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"300px"},children:e.map((function(e){return"done"==e[4]?Object(n.jsx)(O.a,{children:Object(n.jsxs)(D.a,{className:"done-text",children:[Object(n.jsx)(A.a,{primary:"task id: "+e[0]+"  "+e[3]+"  "+e[4],secondary:e[2]}),Object(n.jsx)("p",{children:e[5]})]})}):Object(n.jsx)(O.a,{children:Object(n.jsxs)(D.a,{className:"failed-text",children:[Object(n.jsx)(A.a,{primary:"task id: "+e[0]+"  "+e[3]+"  "+e[4],secondary:e[2]}),Object(n.jsx)("p",{children:e[5]})]})})}))})]})}}]),a}(c.a.Component)),G=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).compare=n.compare.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"compare",value:function(e,t){var a=e[5],n=t[5];return e[5].length<5&&(a="0"+e),t[5].length<5&&(n="0"+t),a>n?1:-1}},{key:"render",value:function(){var e=[];return this.props.data.map((function(t){"failed"==t[4]&&e.push(t)})),e.sort(this.compare),Object(n.jsxs)(O.a,{style:{margin:"2%",padding:"2%"},children:[Object(n.jsx)(O.a.Title,{children:" Failed tasks "}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"300px"},children:e.map((function(e){return Object(n.jsx)(O.a,{children:Object(n.jsxs)(D.a,{className:"failed-text",children:[Object(n.jsx)(A.a,{primary:"task id: "+e[0]+"  "+e[3]+"  "+e[4],secondary:e[2]}),Object(n.jsx)("p",{children:e[5]})]})})}))})]})}}]),a}(c.a.Component),U=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data_:[],parsed_data:[["1","administrator","Pasha","say hi","done","14:00","12:00"],["2","worker","Katya","say Bye","failed","12:00","10:00"]]},n.sort_data=n.sort_data.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"postRequest",value:function(){var e=new FormData;return p.a.post("/data",e)}},{key:"getFile",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postRequest();case 2:"true"==(t=e.sent).data.new&&this.parse_data(t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFile();case 2:this.sort_data();try{setInterval(Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFile();case 2:case"end":return e.stop()}}),e)}))),1e3)}catch(a){console.log(a)}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse_data",value:function(e){for(var t=e,a=[],n=[],s=0;s<t.tasks.length;s++)a.push(t.tasks[s].id),a.push(t.tasks[s].position),a.push(t.tasks[s].name),a.push(t.tasks[s].task_name),a.push(t.tasks[s].status),a.push(t.tasks[s].status_changed),a.push(t.tasks[s].time),n.push(a),a=[];this.setState({parsed_data:n})}},{key:"sort_data",value:function(){var e={};this.state.parsed_data.map((function(t){void 0==e[t[0]]?e[t[0]]="status: "+t[4]+"   time: "+t[5]+"#":e[t[0]]+="status: "+t[4]+"   time: "+t[5]+"#"})),this.setState({dict:e})}},{key:"render",value:function(){return Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("div",{style:{flex:"auto",width:"50%",margin:"2%"},children:Object(n.jsxs)(O.a,{style:{padding:"5%",textAlign:"center"},children:[Object(n.jsx)("h2",{children:"Tasks monitor"}),Object(n.jsx)(R,{data:this.state.parsed_data})]})}),Object(n.jsx)("div",{style:{flex:"auto",width:"50%",margin:"2%"},children:Object(n.jsxs)(O.a,{style:{padding:"5%",textAlign:"center"},children:[Object(n.jsx)("h2",{children:"Status monitor"}),Object(n.jsx)(F,{data:this.state.parsed_data}),Object(n.jsx)(E,{data:this.state.parsed_data}),Object(n.jsx)(G,{data:this.state.parsed_data})]})})]})}}]),a}(c.a.Component),q=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={check:!1,password:"",username:""},n.postRequest=n.postRequest.bind(Object(h.a)(n)),n.handleChangeUsername=n.handleChangeUsername.bind(Object(h.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"postRequest",value:function(e){var t=this;e.preventDefault(),p.a.post("/verify",{username:this.state.username,password:this.state.password}).then((function(e){return t.setState({check:e.data.result})}))}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.state.check?(console.log("ok"),localStorage.setItem("authToken","true"),localStorage.setItem("username",this.state.username),this.props.funcIsLogged("true"),Object(n.jsx)(u.a,{to:"/dashboard",component:U})):Object(n.jsx)(O.a,{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",marginBottom:"10%",width:"40%"},children:Object(n.jsxs)(x.a,{style:{margin:"5%"},children:[Object(n.jsxs)(x.a.Group,{controlId:"formBasicUsername",children:[Object(n.jsx)(x.a.Label,{children:"Username"}),Object(n.jsx)(x.a.Control,{value:this.state.username,onChange:this.handleChangeUsername,type:"username",placeholder:"Enter username"})]}),Object(n.jsxs)(x.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(x.a.Label,{children:"Password"}),Object(n.jsx)(x.a.Control,{value:this.state.password,onChange:this.handleChangePassword,type:"password",placeholder:"Password"})]}),Object(n.jsx)(m.a,{variant:"primary",type:"submit",onClick:this.postRequest,children:"Submit"})]})})}}]),a}(c.a.Component),H=a(34),M=a(86),z=function(e){var t=e.component,a=Object(M.a)(e,["component"]);return Object(n.jsx)(u.b,Object(H.a)(Object(H.a)({},a),{},{render:function(e){return"true"==localStorage.getItem("authToken")?(console.log("print component"),Object(n.jsx)(t,Object(H.a)({},e))):(console.log("redirect"),Object(n.jsx)(u.a,{to:"/registration"}))}}))},J=function(e){return Object(n.jsxs)("main",{children:[Object(n.jsx)(u.a,{from:"/",to:"/dashboard",exact:!0}),Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/registration",component:function(){return Object(n.jsx)(q,{funcIsLogged:e.funcIsLogged})}}),Object(n.jsx)(z,{exact:!0,path:"/dashboard",component:U})]})]})},Y=a(160),K=a(161),W=a(162),Q=a(163),V=a(165),X=Object(Y.a)((function(e){return{title:{flexGrow:1,fontSize:25,fontWeight:100}}})),Z={bgcolor:"inherit",borderColor:"white",m:1,border:1,display:"flex",alignItems:"center",justifyContent:"center",style:{width:"7rem",height:"3rem"}};function $(e){var t=X(),a=Object(u.g)();return"true"==e.isLogged?Object(n.jsx)("div",{children:Object(n.jsx)(K.a,{position:"static",children:Object(n.jsxs)(W.a,{children:[Object(n.jsx)(w.a,{className:t.title,children:" BIG BROTHER AT THE PRODUCTION "}),Object(n.jsx)(w.a,{children:Object(n.jsx)(V.a,Object(H.a)(Object(H.a)({},Z),{},{children:" Pupkin Ivanov "}))}),Object(n.jsx)(Q.a,{color:"inherit",onClick:function(){return localStorage.setItem("authToken","false"),e.funcIsLogged("false"),void a.push("/registration")},children:"LOGOUT"})]})})}):Object(n.jsx)("div",{children:Object(n.jsx)(K.a,{position:"static",children:Object(n.jsxs)(W.a,{children:[Object(n.jsx)(w.a,{className:t.title,children:" BIG BROTHER AT THE PRODUCTION "}),Object(n.jsx)(Q.a,{color:"inherit",children:"LOGIN"})]})})})}var ee=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogged:localStorage.getItem("authToken")},n.changeIsLogged=n.changeIsLogged.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"changeIsLogged",value:function(e){this.setState({isLogged:e})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)($,{isLogged:this.state.isLogged,funcIsLogged:this.changeIsLogged}),Object(n.jsx)(J,{funcIsLogged:this.changeIsLogged})]})}}]),a}(c.a.Component),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,172)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},ae=a(53);i.a.render(Object(n.jsx)(ae.a,{children:Object(n.jsx)(ee,{})}),document.getElementById("root")),te()},33:function(e,t,a){},71:function(e,t,a){}},[[138,1,2]]]);
//# sourceMappingURL=main.c484c539.chunk.js.map