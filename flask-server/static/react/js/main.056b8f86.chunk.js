(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),r=a(19),o=a.n(r),i=(a(93),a(29)),d=a(30),l=a(26),j=a(35),h=a(34),u=(a.p,a(65),a(38)),b=a.n(u),O=(a(55),a(74),a(75),a(9)),g=a(151),x=a(148),p=a(152),m=a(150),f=a(143),v=a(153),k=a(142),I=a(27),y=a.n(I);a(56);var C=function(e){return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(t){if(t[1]==e.name)return"done"==t[3]?Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{className:"done-text",children:t[2]})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(k.a,{children:t[3]+" "+t[4]})})]})}):"pending"==t[3]?Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{className:"pending-text",children:t[2]})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(k.a,{children:t[3]+" "+t[4]})})]})}):Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{className:"failed-text",children:t[2]})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(k.a,{children:t[3]+" "+t[4]})})]})})}))})};var L=function(e){var t=new Set;return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(a){if(a[0]==e.position&&!t.has(a[1]))return t.add(a[1]),Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{children:a[1]})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(C,{data:e.data,name:a[1]})})]})})}))})},w=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data_:[],parsed_data:[["administrator","Pasha","say hi","done"],["worker","Katya","say Bye","pending"]],username:""},n.getFile(),n}return Object(d.a)(a,[{key:"postRequest",value:function(){var e=new FormData;return b.a.post("/data",e)}},{key:"getFile",value:function(){var e=this;this.postRequest().then((function(t){e.setState({data_:t.data})})).then((function(){e.check_thought(e.state.data_)}))}},{key:"componentDidMount",value:function(){this.getFile()}},{key:"check_thought",value:function(e){for(var t=e,a=[],n=[],s=0;s<t.tasks.length;s++)a.push(t.tasks[s].position),a.push(t.tasks[s].name),a.push(t.tasks[s].task_name),a.push(t.tasks[s].status),a.push(t.tasks[s].time),n.push(a),a=[];this.setState({parsed_data:n}),console.log("state in check_thought: "+this.state.parsed_data)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"accordion-base",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{expandIcon:Object(n.jsx)(y.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{style:{flexBasis:"33.33%",flexShrink:0},children:"Administrator"})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(L,{data:this.state.parsed_data,position:"administrator"})})]})})}}]),a}(c.a.Component),S=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={check:!1,password:"",username:""},n.postRequest=n.postRequest.bind(Object(l.a)(n)),n.handleChangeUsername=n.handleChangeUsername.bind(Object(l.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(l.a)(n)),n}return Object(d.a)(a,[{key:"postRequest",value:function(e){var t=this;e.preventDefault(),b.a.post("/verify",{username:this.state.username,password:this.state.password}).then((function(e){return t.setState({check:e.data.result})}))}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.state.check?(console.log("ok"),localStorage.setItem("authToken","true"),localStorage.setItem("username",this.state.username),this.props.funcIsLogged("true"),Object(n.jsx)(O.a,{to:"/table",component:w})):Object(n.jsx)(g.a,{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",marginBottom:"10%",width:"40%"},children:Object(n.jsxs)(x.a,{style:{margin:"5%"},children:[Object(n.jsxs)(x.a.Group,{controlId:"formBasicUsername",children:[Object(n.jsx)(x.a.Label,{children:"Username"}),Object(n.jsx)(x.a.Control,{value:this.state.username,onChange:this.handleChangeUsername,type:"username",placeholder:"Enter username"})]}),Object(n.jsxs)(x.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(x.a.Label,{children:"Password"}),Object(n.jsx)(x.a.Control,{value:this.state.password,onChange:this.handleChangePassword,type:"password",placeholder:"Password"})]}),Object(n.jsx)(x.a.Group,{controlId:"formBasicCheckbox",children:Object(n.jsx)(x.a.Check,{type:"checkbox",label:"Check me out"})}),Object(n.jsx)(p.a,{variant:"primary",type:"submit",onClick:this.postRequest,children:"Submit"})]})})}}]),a}(c.a.Component),R=a(28),B=a(79),N=function(e){var t=e.component,a=Object(B.a)(e,["component"]);return Object(n.jsx)(O.b,Object(R.a)(Object(R.a)({},a),{},{render:function(e){return"true"==localStorage.getItem("authToken")?(console.log("print component"),Object(n.jsx)(t,Object(R.a)({},e))):(console.log("redirect"),Object(n.jsx)(O.a,{to:"/registration"}))}}))},P=function(e){return Object(n.jsxs)("main",{children:[Object(n.jsx)(O.a,{from:"/",to:"/table",exact:!0}),Object(n.jsxs)(O.d,{children:[Object(n.jsx)(O.b,{exact:!0,path:"/registration",component:function(){return Object(n.jsx)(S,{funcIsLogged:e.funcIsLogged})}}),Object(n.jsx)(N,{exact:!0,path:"/table",component:w})]})]})},T=a(78),_=a(144),G=a(145),U=a(146),F=a(147),q=a(149),D=Object(_.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontSize:25,fontWeight:100}}})),E={bgcolor:"inherit",borderColor:"white",m:1,border:1,display:"flex",alignItems:"center",justifyContent:"center",style:{width:"7rem",height:"3rem"}};function H(e){var t=Object(s.useState)("visible"),a=Object(T.a)(t,2),c=(a[0],a[1]);var r=D(),o=Object(O.g)();return console.log("isLogged: "+e.isLogged),"true"==e.isLogged?Object(n.jsx)("div",{children:Object(n.jsx)(G.a,{position:"static",children:Object(n.jsxs)(U.a,{children:[Object(n.jsx)(k.a,{className:r.title,children:" BIG BROTHER ON PRODUCTION "}),Object(n.jsx)(k.a,{children:Object(n.jsx)(q.a,Object(R.a)(Object(R.a)({},E),{},{children:" Pupkin Ivanov "}))}),Object(n.jsx)(F.a,{color:"inherit",onClick:function(){return console.log("button clicked"),localStorage.setItem("authToken","false"),e.funcIsLogged("false"),o.push("/registration"),void c("hidden")},children:"LOGOUT"})]})})}):Object(n.jsx)("div",{children:Object(n.jsx)(G.a,{position:"static",children:Object(n.jsxs)(U.a,{children:[Object(n.jsx)(k.a,{className:r.title,children:" BIG BROTHER ON PRODUCTION "}),Object(n.jsx)(F.a,{color:"inherit",children:"LOGIN"})]})})})}var J=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLogged:localStorage.getItem("authToken")},n.changeIsLogged=n.changeIsLogged.bind(Object(l.a)(n)),n}return Object(d.a)(a,[{key:"changeIsLogged",value:function(e){this.setState({isLogged:e})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(H,{isLogged:this.state.isLogged,funcIsLogged:this.changeIsLogged}),Object(n.jsx)(P,{funcIsLogged:this.changeIsLogged})]})}}]),a}(c.a.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},A=a(45);o.a.render(Object(n.jsx)(A.a,{children:Object(n.jsx)(J,{})}),document.getElementById("root")),z()},56:function(e,t,a){},65:function(e,t,a){},93:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.056b8f86.chunk.js.map