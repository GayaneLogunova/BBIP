(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),r=a(19),i=a.n(r),o=(a(93),a(29)),d=a(30),j=a(26),l=a(35),h=a(34),u=(a(66),a(55),a(67),a(68),a(9)),b=a(45),O=a.n(b),p=a(153),x=a(151),g=a(154),m=a(59),f=a.n(m),v=a(79),k=a(152),I=a(145),y=a(155),w=a(144),C=a(27),L=a.n(C);a(56);var S=function(e){return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(t){if(t[1]==e.name)return"done"==t[3]?Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{expandIcon:Object(n.jsx)(L.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"done-text",children:t[2]})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(w.a,{children:t[3]+" "+t[4]})})]})}):"pending"==t[3]?Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{expandIcon:Object(n.jsx)(L.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"pending-text",children:t[2]})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(w.a,{children:t[3]+" "+t[4]})})]})}):Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{expandIcon:Object(n.jsx)(L.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{className:"failed-text",children:t[2]})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(w.a,{children:t[3]+" "+t[4]})})]})})}))})};var N=function(e){var t=new Set;return Object(n.jsx)("div",{className:"accordion-body",children:e.data.map((function(a){if(a[0]==e.position&&!t.has(a[1]))return t.add(a[1]),Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{expandIcon:Object(n.jsx)(L.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:a[1]})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(S,{data:e.data,name:a[1]})})]})})}))})},P=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data_:[],parsed_data:[["administrator","Pasha","say hi","done"],["worker","Katya","say Bye","pending"]],username:""},n}return Object(d.a)(a,[{key:"postRequest",value:function(){var e=new FormData;return O.a.post("/data",e)}},{key:"getFile",value:function(){var e=this;this.postRequest().then((function(t){e.setState({data_:t.data})})).then((function(){e.parse_data(e.state.data_)}))}},{key:"componentDidMount",value:function(){var e=this;try{setInterval(Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getFile();case 1:case"end":return t.stop()}}),t)}))),1e3)}catch(t){console.log(t)}}},{key:"parse_data",value:function(e){for(var t=e,a=[],n=[],s=0;s<t.tasks.length;s++)a.push(t.tasks[s].position),a.push(t.tasks[s].name),a.push(t.tasks[s].task_name),a.push(t.tasks[s].status),a.push(t.tasks[s].time),n.push(a),a=[];this.setState({parsed_data:n})}},{key:"render",value:function(){var e=this,t=new Set;return Object(n.jsx)("div",{className:"accordion-base",children:this.state.parsed_data.map((function(a){if(!t.has(a[0]))return t.add(a[0]),Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{expandIcon:Object(n.jsx)(L.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{children:a[0]})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(N,{data:e.state.parsed_data,position:a[0]})})]})})}))})}}]),a}(c.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={check:!1,password:"",username:""},n.postRequest=n.postRequest.bind(Object(j.a)(n)),n.handleChangeUsername=n.handleChangeUsername.bind(Object(j.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"postRequest",value:function(e){var t=this;e.preventDefault(),O.a.post("/verify",{username:this.state.username,password:this.state.password}).then((function(e){return t.setState({check:e.data.result})}))}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.state.check?(console.log("ok"),localStorage.setItem("authToken","true"),localStorage.setItem("username",this.state.username),this.props.funcIsLogged("true"),Object(n.jsx)(u.a,{to:"/dashboard",component:P})):Object(n.jsx)(p.a,{style:{marginLeft:"auto",marginRight:"auto",marginTop:"10%",marginBottom:"10%",width:"40%"},children:Object(n.jsxs)(x.a,{style:{margin:"5%"},children:[Object(n.jsxs)(x.a.Group,{controlId:"formBasicUsername",children:[Object(n.jsx)(x.a.Label,{children:"Username"}),Object(n.jsx)(x.a.Control,{value:this.state.username,onChange:this.handleChangeUsername,type:"username",placeholder:"Enter username"})]}),Object(n.jsxs)(x.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(x.a.Label,{children:"Password"}),Object(n.jsx)(x.a.Control,{value:this.state.password,onChange:this.handleChangePassword,type:"password",placeholder:"Password"})]}),Object(n.jsx)(g.a,{variant:"primary",type:"submit",onClick:this.postRequest,children:"Submit"})]})})}}]),a}(c.a.Component),T=a(28),B=a(80),_=function(e){var t=e.component,a=Object(B.a)(e,["component"]);return Object(n.jsx)(u.b,Object(T.a)(Object(T.a)({},a),{},{render:function(e){return"true"==localStorage.getItem("authToken")?(console.log("print component"),Object(n.jsx)(t,Object(T.a)({},e))):(console.log("redirect"),Object(n.jsx)(u.a,{to:"/registration"}))}}))},U=function(e){return Object(n.jsxs)("main",{children:[Object(n.jsx)(u.a,{from:"/",to:"/dashboard",exact:!0}),Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/registration",component:function(){return Object(n.jsx)(R,{funcIsLogged:e.funcIsLogged})}}),Object(n.jsx)(_,{exact:!0,path:"/dashboard",component:P})]})]})},F=a(146),G=a(147),q=a(148),D=a(149),E=a(150),H=Object(F.a)((function(e){return{title:{flexGrow:1,fontSize:25,fontWeight:100}}})),J={bgcolor:"inherit",borderColor:"white",m:1,border:1,display:"flex",alignItems:"center",justifyContent:"center",style:{width:"7rem",height:"3rem"}};function z(e){var t=H(),a=Object(u.g)();return"true"==e.isLogged?Object(n.jsx)("div",{children:Object(n.jsx)(G.a,{position:"static",children:Object(n.jsxs)(q.a,{children:[Object(n.jsx)(w.a,{className:t.title,children:" BIG BROTHER ON PRODUCTION "}),Object(n.jsx)(w.a,{children:Object(n.jsx)(E.a,Object(T.a)(Object(T.a)({},J),{},{children:" Pupkin Ivanov "}))}),Object(n.jsx)(D.a,{color:"inherit",onClick:function(){return localStorage.setItem("authToken","false"),e.funcIsLogged("false"),void a.push("/registration")},children:"LOGOUT"})]})})}):Object(n.jsx)("div",{children:Object(n.jsx)(G.a,{position:"static",children:Object(n.jsxs)(q.a,{children:[Object(n.jsx)(w.a,{className:t.title,children:" BIG BROTHER ON PRODUCTION "}),Object(n.jsx)(D.a,{color:"inherit",children:"LOGIN"})]})})})}var K=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogged:localStorage.getItem("authToken")},n.changeIsLogged=n.changeIsLogged.bind(Object(j.a)(n)),n}return Object(d.a)(a,[{key:"changeIsLogged",value:function(e){this.setState({isLogged:e})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{isLogged:this.state.isLogged,funcIsLogged:this.changeIsLogged}),Object(n.jsx)(U,{funcIsLogged:this.changeIsLogged})]})}}]),a}(c.a.Component),M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,158)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},W=a(44);i.a.render(Object(n.jsx)(W.a,{children:Object(n.jsx)(K,{})}),document.getElementById("root")),M()},56:function(e,t,a){},66:function(e,t,a){},93:function(e,t,a){}},[[123,1,2]]]);
//# sourceMappingURL=main.d0eeb853.chunk.js.map